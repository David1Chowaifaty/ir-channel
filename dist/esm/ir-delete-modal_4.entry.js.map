{"file":"ir-delete-modal.ir-hk-unassigned-units.ir-hk-user.ir-phone-input.entry.js","mappings":"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","names":[],"sources":["src/components/ir-housekeeping/ir-delete-modal/ir-delete-modal.css?tag=ir-delete-modal&encapsulation=scoped","src/components/ir-housekeeping/ir-delete-modal/ir-delete-modal.tsx","src/components/ir-housekeeping/ir-hk-unassigned-units/ir-hk-unassigned-units.css?tag=ir-hk-unassigned-units&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-unassigned-units/ir-hk-unassigned-units.tsx","src/utils/validation.ts","src/components/ir-housekeeping/ir-hk-user/ir-hk-user.css?tag=ir-hk-user&encapsulation=scoped","src/components/ir-housekeeping/ir-hk-user/ir-hk-user.tsx","src/components/ir-phone-input/ir-phone-input.css?tag=ir-phone-input&encapsulation=scoped","src/components/ir-phone-input/ir-phone-input.tsx"],"sourcesContent":[".backdropModal {\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 1000;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease-in-out;\r\n  pointer-events: none;\r\n}\r\n.backdropModal.active {\r\n  cursor: pointer;\r\n  opacity: 1 !important;\r\n  pointer-events: all;\r\n}\r\n\r\n.ir-modal[data-state='opened'] {\r\n  opacity: 1;\r\n  /* transform: translate(-50%, 0); */\r\n  visibility: visible; /* Make modal visible */\r\n  pointer-events: all; /* Restore pointer events */\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n.ir-alert-content {\r\n  padding: 10px;\r\n  background: white;\r\n  border-radius: 5px;\r\n}\r\n.modal {\r\n  z-index: 1001 !important;\r\n}\r\n\r\n.modal-dialog {\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.ir-alert-footer {\r\n  gap: 10px;\r\n}\r\n.exit-icon {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 5px;\r\n  margin: 0;\r\n}\r\n.ir-modal {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1050;\r\n  width: 90%;\r\n  max-width: 32rem;\r\n  overflow: hidden;\r\n  outline: 0;\r\n  opacity: 0;\r\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;\r\n  visibility: hidden;\r\n  pointer-events: none;\r\n}\r\n\r\n.ir-modal.active {\r\n  opacity: 1;\r\n  transform: translate(-50%, 0);\r\n  visibility: visible; /* Make modal visible */\r\n  pointer-events: all; /* Restore pointer events */\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n","import { Component, EventEmitter, Listen, Method, Prop, State, h, Event } from '@stencil/core';\r\nimport housekeeping_store from '@/stores/housekeeping.store';\r\nimport { HouseKeepingService } from '@/services/housekeeping.service';\r\nimport { IHouseKeepers } from '@/models/housekeeping';\r\nimport locales from '@/stores/locales.store';\r\n\r\n@Component({\r\n  tag: 'ir-delete-modal',\r\n  styleUrl: 'ir-delete-modal.css',\r\n  scoped: true,\r\n})\r\nexport class IrDeleteModal {\r\n  @Prop() user: IHouseKeepers;\r\n\r\n  @State() isOpen: boolean = false;\r\n  @State() selectedId: string = '';\r\n  @State() loadingBtn: 'confirm' | null = null;\r\n\r\n  @Event() modalClosed: EventEmitter<null>;\r\n  @Event() resetData: EventEmitter<string>;\r\n\r\n  private housekeepingService = new HouseKeepingService();\r\n\r\n  componentWillLoad() {\r\n    this.housekeepingService.setToken(housekeeping_store.default_properties.token);\r\n  }\r\n\r\n  @Method()\r\n  async closeModal() {\r\n    this.isOpen = false;\r\n    this.modalClosed.emit(null);\r\n  }\r\n  @Method()\r\n  async openModal() {\r\n    this.isOpen = true;\r\n  }\r\n\r\n  @Listen('clickHanlder')\r\n  async btnClickHandler(event: CustomEvent) {\r\n    let target = event.target as HTMLInputElement;\r\n    let name = target.name;\r\n    try {\r\n      if (name === 'confirm') {\r\n        this.loadingBtn = 'confirm';\r\n        if (this.selectedId === '') {\r\n          await this.housekeepingService.editExposedHKM(this.user, true);\r\n        } else {\r\n          const newAssignedUnits = this.user.assigned_units.map(u => ({ hkm_id: +this.selectedId, is_to_assign: true, unit_id: u.id }));\r\n          await this.housekeepingService.manageExposedAssignedUnitToHKM(housekeeping_store.default_properties.property_id, newAssignedUnits);\r\n          const { assigned_units, is_soft_deleted, is_active, ...user } = this.user;\r\n          await this.housekeepingService.editExposedHKM(user, true);\r\n        }\r\n        this.resetData.emit(null);\r\n      }\r\n      if (name === 'cancel') {\r\n        this.closeModal();\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      if (this.loadingBtn) {\r\n        this.loadingBtn = null;\r\n        this.closeModal();\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    if (!this.user) {\r\n      return null;\r\n    }\r\n    return [\r\n      <div\r\n        class={`backdropModal ${this.isOpen ? 'active' : ''}`}\r\n        onClick={() => {\r\n          this.closeModal();\r\n        }}\r\n      ></div>,\r\n      <div data-state={this.isOpen ? 'opened' : 'closed'} class={`ir-modal`} tabindex=\"-1\">\r\n        {this.isOpen && (\r\n          <div class={`ir-alert-content p-2`}>\r\n            <div class={`ir-alert-header align-items-center border-0 py-0 m-0 `}>\r\n              <p class=\"p-0 my-0 mb-1\">{this.user.assigned_units.length > 0 ? locales.entries.Lcz_AssignUnitsTo : locales.entries.Lcz_ConfirmDeletion}</p>\r\n              <ir-icon\r\n                class=\"exit-icon\"\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={() => {\r\n                  this.closeModal();\r\n                }}\r\n              >\r\n                <svg slot=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"10.5\" viewBox=\"0 0 384 512\">\r\n                  <path\r\n                    fill=\"currentColor\"\r\n                    d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"\r\n                  />\r\n                </svg>\r\n              </ir-icon>\r\n            </div>\r\n            {this.user.assigned_units.length > 0 && (\r\n              <div class=\"modal-body text-left p-0 mb-2\">\r\n                <ir-select\r\n                  firstOption={locales.entries.Lcz_nobody}\r\n                  selectedValue={this.selectedId}\r\n                  onSelectChange={e => (this.selectedId = e.detail)}\r\n                  LabelAvailable={false}\r\n                  data={housekeeping_store.hk_criteria.housekeepers\r\n                    .filter(hk => hk.id !== this.user.id)\r\n                    .map(m => ({\r\n                      value: m.id.toString(),\r\n                      text: m.name,\r\n                    }))}\r\n                ></ir-select>\r\n              </div>\r\n            )}\r\n\r\n            <div class={`ir-alert-footer border-0 d-flex justify-content-end`}>\r\n              <ir-button icon={''} btn_color={'secondary'} btn_block text={locales.entries.Lcz_Cancel} name={'cancel'}></ir-button>\r\n              <ir-button isLoading={this.loadingBtn === 'confirm'} icon={''} btn_color={'primary'} btn_block text={locales.entries.Lcz_Confirm} name={'confirm'}></ir-button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>,\r\n    ];\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n  --ir-root-active-color: #1e9ff2;\r\n  --ir-root-inactive-color: #d2d2d2;\r\n}\r\ntable {\r\n  width: 100%;\r\n}\r\ntd {\r\n  padding-top: 3px;\r\n  padding-bottom: 3px;\r\n}\r\ntd:last-child {\r\n  text-align: end;\r\n}\r\n.title {\r\n  min-width: 230px !important;\r\n}\r\n","import { IHouseKeepers, IPropertyHousekeepingAssignment } from '@/models/housekeeping';\r\nimport { HouseKeepingService } from '@/services/housekeeping.service';\r\nimport calendar_data from '@/stores/calendar-data';\r\nimport housekeeping_store from '@/stores/housekeeping.store';\r\nimport { isRequestPending } from '@/stores/ir-interceptor.store';\r\nimport { Component, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-hk-unassigned-units',\r\n  styleUrl: 'ir-hk-unassigned-units.css',\r\n  scoped: true,\r\n})\r\nexport class IrHkUnassignedUnits {\r\n  @Prop() user: IHouseKeepers | null = null;\r\n\r\n  @State() renderAgain = false;\r\n\r\n  @Event() closeSideBar: EventEmitter<null>;\r\n  @Event() resetData: EventEmitter<null>;\r\n\r\n  private assignedUnits: Map<number, IPropertyHousekeepingAssignment> = new Map();\r\n  private housekeepingService = new HouseKeepingService();\r\n\r\n  componentWillLoad() {\r\n    this.housekeepingService.setToken(housekeeping_store.default_properties.token);\r\n  }\r\n\r\n  assignUnit(unit_id: number, hk_id: number | null, checked: boolean) {\r\n    if (this.user) {\r\n      const userUnit = this.user.assigned_units.find(unit => unit.id === unit_id);\r\n      if ((checked && userUnit) || (!checked && !userUnit)) {\r\n        this.assignedUnits.delete(unit_id);\r\n      } else if (!checked && userUnit) {\r\n        this.assignedUnits.set(unit_id, { hkm_id: hk_id, is_to_assign: false, unit_id });\r\n      } else if (checked) {\r\n        const assignment: IPropertyHousekeepingAssignment = {\r\n          hkm_id: hk_id,\r\n          is_to_assign: true,\r\n          unit_id,\r\n        };\r\n        this.assignedUnits.set(unit_id, assignment);\r\n      }\r\n    } else {\r\n      if (this.assignedUnits.has(unit_id) && !hk_id) {\r\n        this.assignedUnits.delete(unit_id);\r\n        return;\r\n      } else {\r\n        this.assignedUnits.set(unit_id, {\r\n          hkm_id: hk_id,\r\n          is_to_assign: true,\r\n          unit_id,\r\n        });\r\n      }\r\n    }\r\n    this.renderAgain = !this.renderAgain;\r\n  }\r\n\r\n  async assignUnits() {\r\n    try {\r\n      await this.housekeepingService.manageExposedAssignedUnitToHKM(housekeeping_store.default_properties.property_id, [...this.assignedUnits.values()]);\r\n      this.resetData.emit(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.closeSideBar.emit(null);\r\n    }\r\n  }\r\n  renderRooms() {\r\n    if (!this.user) {\r\n      return housekeeping_store.hk_criteria.units_assignments.unassigned_units?.map(unit => (\r\n        <tr key={unit.id}>\r\n          <td class=\"mr-2\">{unit.name}</td>\r\n          <td class=\"sr-only\"></td>\r\n          <td>\r\n            <ir-select\r\n              onSelectChange={e => {\r\n                let hk_id = e.detail;\r\n                if (hk_id === '') {\r\n                  hk_id = null;\r\n                } else {\r\n                  hk_id = +hk_id;\r\n                }\r\n                this.assignUnit(unit.id, hk_id, false);\r\n              }}\r\n              LabelAvailable={false}\r\n              data={housekeeping_store.hk_criteria.housekeepers.map(hk => ({ text: hk.name, value: hk.id.toString() }))}\r\n            ></ir-select>\r\n          </td>\r\n        </tr>\r\n      ));\r\n    }\r\n    return calendar_data.roomsInfo.map(roomType => {\r\n      if (!roomType.is_active) {\r\n        return null;\r\n      }\r\n      return roomType.physicalrooms?.map(physical_room => {\r\n        let taken = !housekeeping_store.hk_criteria.units_assignments.unassigned_units?.find(unit => unit.id === physical_room.id);\r\n        let housekeeper = [];\r\n        const assignedRoom = this.assignedUnits.get(physical_room.id);\r\n        if (assignedRoom && assignedRoom.is_to_assign) {\r\n          housekeeper = [this.user];\r\n          taken = true;\r\n        } else {\r\n          if (taken) {\r\n            housekeeper = housekeeping_store.hk_criteria.housekeepers.filter(hk => hk.assigned_units.find(unit => unit.id === physical_room.id));\r\n          }\r\n        }\r\n        return (\r\n          <tr key={physical_room.id}>\r\n            <td>{physical_room.name}</td>\r\n            <td>{taken ? housekeeper[0]?.name : ''}</td>\r\n            <td>\r\n              <ir-switch\r\n                onCheckChange={e => {\r\n                  const checked = e.detail;\r\n                  this.assignUnit(physical_room.id, this.user.id, checked);\r\n                }}\r\n                checked={taken && housekeeper[0]?.id === this.user.id}\r\n              ></ir-switch>\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <ir-title class=\"title px-1\" displayContext=\"sidebar\" label={!this.user ? 'Assingn Units' : `Assignment for ${this.user.name}`}></ir-title>\r\n        <section class=\"px-1\">\r\n          <table>\r\n            <thead>\r\n              <th class=\"sr-only\">room name</th>\r\n              <th class=\"sr-only\">housekeeper name</th>\r\n              <th class=\"sr-only\">actions</th>\r\n            </thead>\r\n            <tbody>{this.renderRooms()}</tbody>\r\n          </table>\r\n          <div class=\"d-flex flex-column flex-md-row align-items-md-center mt-2 w-100\">\r\n            <ir-button\r\n              onClickHanlder={() => this.closeSideBar.emit(null)}\r\n              class=\"flex-fill\"\r\n              btn_styles=\"w-100  justify-content-center align-items-center\"\r\n              btn_color=\"secondary\"\r\n              text={'Cancel'}\r\n            ></ir-button>\r\n            <ir-button\r\n              isLoading={isRequestPending('/Manage_Exposed_Assigned_Unit_To_HKM')}\r\n              onClickHanlder={this.assignUnits.bind(this)}\r\n              class=\"flex-fill ml-md-1\"\r\n              btn_styles=\"w-100  justify-content-center align-items-center mt-1 mt-md-0\"\r\n              text={'Confirm'}\r\n            ></ir-button>\r\n          </div>\r\n        </section>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","export type ValidationRule = {\r\n  required?: boolean;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  pattern?: RegExp;\r\n  custom?: (value: any) => boolean;\r\n};\r\n\r\ntype ValidationResult = {\r\n  isValid: boolean;\r\n  errors: { [key: string]: string[] };\r\n};\r\n\r\nexport function validateForm<T>(data: T, rules: { [P in keyof T]?: ValidationRule }): ValidationResult {\r\n  let isValid = true;\r\n  const errors: { [key: string]: string[] } = {};\r\n\r\n  for (const fieldName in rules) {\r\n    const rulesForField = rules[fieldName];\r\n    const value = data[fieldName];\r\n    if (!rulesForField) continue;\r\n\r\n    errors[fieldName] = [];\r\n\r\n    // Required\r\n    if (rulesForField.required && (value === null || value === undefined || value === '')) {\r\n      isValid = false;\r\n      errors[fieldName].push('This field is required.');\r\n    }\r\n\r\n    // String Length\r\n    if (typeof value === 'string') {\r\n      if (rulesForField.minLength !== undefined && value.length < rulesForField.minLength) {\r\n        isValid = false;\r\n        errors[fieldName].push(`Minimum length is ${rulesForField.minLength}.`);\r\n      }\r\n      if (rulesForField.maxLength !== undefined && value.length > rulesForField.maxLength) {\r\n        isValid = false;\r\n        errors[fieldName].push(`Maximum length is ${rulesForField.maxLength}.`);\r\n      }\r\n    }\r\n\r\n    // Numeric Range\r\n    if (typeof value === 'number') {\r\n      if (rulesForField.minValue !== undefined && value < rulesForField.minValue) {\r\n        isValid = false;\r\n        errors[fieldName].push(`Minimum value is ${rulesForField.minValue}.`);\r\n      }\r\n      if (rulesForField.maxValue !== undefined && value > rulesForField.maxValue) {\r\n        isValid = false;\r\n        errors[fieldName].push(`Maximum value is ${rulesForField.maxValue}.`);\r\n      }\r\n    }\r\n\r\n    // Regular Expression\r\n    if (rulesForField.pattern && !rulesForField.pattern.test(String(value))) {\r\n      isValid = false;\r\n      errors[fieldName].push('Invalid format.');\r\n    }\r\n\r\n    // Custom Validation\r\n    if (rulesForField.custom && !rulesForField.custom(value)) {\r\n      isValid = false;\r\n      errors[fieldName].push('Custom validation failed.');\r\n    }\r\n  }\r\n\r\n  return { isValid, errors };\r\n}\r\n",":host {\r\n  display: block;\r\n}\r\n","import { THKUser } from '@/models/housekeeping';\r\nimport { HouseKeepingService } from '@/services/housekeeping.service';\r\nimport calendar_data from '@/stores/calendar-data';\r\nimport { getDefaultProperties } from '@/stores/housekeeping.store';\r\nimport locales from '@/stores/locales.store';\r\nimport { ValidationRule, validateForm } from '@/utils/validation';\r\nimport { Component, Host, Prop, State, h, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-hk-user',\r\n  styleUrl: 'ir-hk-user.css',\r\n  scoped: true,\r\n})\r\nexport class IrHkUser {\r\n  @Prop() user: THKUser | null = null;\r\n  @Prop() isEdit: boolean = false;\r\n\r\n  @State() isLoading: boolean = false;\r\n  @State() userInfo: THKUser = {\r\n    id: -1,\r\n    mobile: '',\r\n    name: '',\r\n    note: '',\r\n    password: '',\r\n    property_id: null,\r\n    username: null,\r\n    phone_prefix: null,\r\n  };\r\n\r\n  @State() errors: { [P in keyof THKUser]?: any } | null = null;\r\n\r\n  @Event() resetData: EventEmitter<null>;\r\n  @Event() closeSideBar: EventEmitter<null>;\r\n\r\n  private housekeepingService = new HouseKeepingService();\r\n  private default_properties = {\r\n    token: '',\r\n    language: '',\r\n  };\r\n\r\n  async componentWillLoad() {\r\n    const { token, language, property_id } = getDefaultProperties();\r\n    this.default_properties = { token, language };\r\n    this.housekeepingService.setToken(token);\r\n    if (!this.user) {\r\n      this.userInfo['property_id'] = property_id;\r\n    }\r\n    if (this.user) {\r\n      this.userInfo = { ...this.user };\r\n    }\r\n    console.log(this.userInfo);\r\n  }\r\n\r\n  updateUserField(key: keyof THKUser, value: any) {\r\n    this.userInfo = { ...this.userInfo, [key]: value };\r\n  }\r\n\r\n  async addUser() {\r\n    try {\r\n      this.isLoading = true;\r\n      const validationRules: { [P in keyof THKUser]?: ValidationRule } = {\r\n        name: { required: true },\r\n        mobile: { required: true },\r\n        password: { required: true, minLength: 5 },\r\n      };\r\n      const validationResult = validateForm(this.userInfo, validationRules);\r\n      if (!validationResult.isValid) {\r\n        this.errors = validationResult.errors;\r\n        return;\r\n      }\r\n      if (this.errors) {\r\n        this.errors = null;\r\n      }\r\n      await this.housekeepingService.editExposedHKM(this.userInfo);\r\n      this.resetData.emit(null);\r\n      this.closeSideBar.emit(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n  async handleBlur(e: CustomEvent) {\r\n    e.stopImmediatePropagation();\r\n    e.stopPropagation();\r\n    if (this.user || !this.userInfo.name) {\r\n      return;\r\n    }\r\n    const usermame = await this.housekeepingService.generateUserName(this.userInfo.name);\r\n    this.updateUserField('username', usermame);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <ir-title class=\"px-1\" displayContext=\"sidebar\" label={this.isEdit ? locales.entries.Lcz_EditHousekeeperProfile : locales.entries.Lcz_CreateHousekeeperProfile}></ir-title>\r\n        <section class=\"px-1\">\r\n          <ir-input-text\r\n            error={this.errors?.name?.length > 0}\r\n            label={locales.entries.Lcz_Name}\r\n            placeholder={locales.entries.Lcz_Name}\r\n            onTextChange={e => this.updateUserField('name', e.detail)}\r\n            value={this.userInfo.name}\r\n            onInputBlur={this.handleBlur.bind(this)}\r\n          ></ir-input-text>\r\n          <ir-phone-input\r\n            placeholder={locales.entries.Lcz_Mobile}\r\n            error={this.errors?.mobile?.length > 0}\r\n            language={this.default_properties.language}\r\n            token={this.default_properties.token}\r\n            default_country={calendar_data.country.id}\r\n            phone_prefix={this.user?.phone_prefix}\r\n            label={locales.entries.Lcz_Mobile}\r\n            value={this.userInfo.mobile}\r\n            onTextChange={e => {\r\n              this.updateUserField('phone_prefix', e.detail.phone_prefix);\r\n              this.updateUserField('mobile', e.detail.mobile);\r\n            }}\r\n          ></ir-phone-input>\r\n\r\n          <ir-input-text\r\n            disabled={this.user !== null}\r\n            label={locales.entries.Lcz_Username}\r\n            placeholder={locales.entries.Lcz_Username}\r\n            value={this.userInfo.username}\r\n            onTextChange={e => this.updateUserField('username', e.detail)}\r\n          ></ir-input-text>\r\n\r\n          <ir-input-text\r\n            label={locales.entries.Lcz_Password}\r\n            placeholder={locales.entries.Lcz_MinimumCharacter}\r\n            value={this.userInfo.password}\r\n            type=\"password\"\r\n            error={this.errors?.password?.length > 0}\r\n            onTextChange={e => this.updateUserField('password', e.detail)}\r\n          ></ir-input-text>\r\n          <ir-input-text\r\n            label={locales.entries.Lcz_Note}\r\n            placeholder={locales.entries.Lcz_Note}\r\n            value={this.userInfo.note}\r\n            onTextChange={e => this.updateUserField('note', e.detail)}\r\n          ></ir-input-text>\r\n          <div class=\"d-flex flex-column flex-md-row align-items-md-center mt-2 w-100\">\r\n            <ir-button\r\n              onClickHanlder={() => this.closeSideBar.emit(null)}\r\n              class=\"flex-fill\"\r\n              btn_styles=\"w-100  justify-content-center align-items-center\"\r\n              btn_color=\"secondary\"\r\n              text={locales.entries.Lcz_Cancel}\r\n            ></ir-button>\r\n            <ir-button\r\n              isLoading={this.isLoading}\r\n              onClickHanlder={this.addUser.bind(this)}\r\n              class=\"flex-fill ml-md-1\"\r\n              btn_styles=\"w-100  justify-content-center align-items-center mt-1 mt-md-0\"\r\n              text={locales.entries.Lcz_Save}\r\n            ></ir-button>\r\n          </div>\r\n        </section>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n}\r\n\r\n.input-container {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 !important;\r\n}\r\n.input-container:focus-within {\r\n  border-color: #1e9ff2;\r\n}\r\n.border-theme {\r\n  border-color: #cacfe7;\r\n}\r\n.input-container input {\r\n  flex: 1;\r\n  border: 0;\r\n}\r\n.input-container input:focus {\r\n  outline: none;\r\n}\r\n.dropdown-trigger {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  background: white;\r\n  border: 0;\r\n  border-right: 1px solid #cacfe7;\r\n}\r\n.ir-dropdown-container {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  bottom: -30px;\r\n  width: 100%;\r\n  left: 0;\r\n  background: white;\r\n}\r\n.input-container label {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0;\r\n  padding: 0 5px;\r\n}\r\n.flag {\r\n  height: 18px;\r\n  width: 24px;\r\n  border-radius: 3px;\r\n}\r\n.is-invalid {\r\n  border-color: #ff4961;\r\n}\r\n","import { ICountry } from '@/components';\r\nimport { BookingService } from '@/services/booking.service';\r\nimport { Component, Element, Event, EventEmitter, Host, Listen, Prop, State, h } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'ir-phone-input',\r\n  styleUrl: 'ir-phone-input.css',\r\n  scoped: true,\r\n})\r\nexport class IrPhoneInput {\r\n  @Element() el: HTMLElement;\r\n  @Prop() label: string;\r\n  @Prop() value: string = '';\r\n  @Prop() disabled: boolean = false;\r\n  @Prop() error: boolean = false;\r\n  @Prop() token: string;\r\n  @Prop() language: string;\r\n  @Prop() default_country: number = null;\r\n  @Prop() phone_prefix: string | null = null;\r\n  @Prop() placeholder: string;\r\n\r\n  @Event() textChange: EventEmitter<{ phone_prefix: string; mobile: string }>;\r\n  @State() inputValue: string = '';\r\n  @State() isDropdownVisible: boolean = false;\r\n  @State() currentCountry: ICountry;\r\n\r\n  private countries: ICountry[] = [];\r\n\r\n  private bookingService: BookingService = new BookingService();\r\n\r\n  async componentWillLoad() {\r\n    if (!this.token) {\r\n      throw new Error('Missing token');\r\n    }\r\n    this.bookingService.setToken(this.token);\r\n    const countries = await this.bookingService.getCountries(this.language);\r\n    this.countries = countries;\r\n    if (this.phone_prefix) {\r\n      this.setCountryFromPhonePrefix();\r\n    } else {\r\n      if (this.default_country) {\r\n        this.setCurrentCountry(this.default_country);\r\n      }\r\n    }\r\n    this.inputValue = this.value;\r\n  }\r\n  @Listen('click', { target: 'document' })\r\n  handleDocumentClick(event: MouseEvent) {\r\n    const target = event.target as HTMLElement;\r\n    if (!this.el.contains(target)) {\r\n      this.isDropdownVisible = false;\r\n    }\r\n  }\r\n  handleInputChange(e: InputEvent) {\r\n    let inputElement = e.target as HTMLInputElement;\r\n    let inputValue = inputElement.value;\r\n    inputValue = inputValue.replace(/[^+\\d]+/g, '');\r\n    inputElement.value = inputValue;\r\n    this.inputValue = inputValue;\r\n    this.textChange.emit({ phone_prefix: this.currentCountry?.phone_prefix, mobile: this.inputValue });\r\n  }\r\n  setCountryFromPhonePrefix() {\r\n    const country = this.countries.find(country => country.phone_prefix === this.phone_prefix);\r\n    if (!country) {\r\n      throw new Error('Invalid country id');\r\n    }\r\n    this.currentCountry = { ...country };\r\n    this.textChange.emit({ phone_prefix: this.currentCountry?.phone_prefix, mobile: this.value });\r\n  }\r\n  setCurrentCountry(id: number) {\r\n    const country = this.countries.find(country => country.id === id);\r\n    if (!country) {\r\n      throw new Error('Invalid country id');\r\n    }\r\n    this.currentCountry = { ...country };\r\n    this.textChange.emit({ phone_prefix: this.currentCountry?.phone_prefix, mobile: this.value });\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class=\"form-group mr-0\">\r\n          {/* <p class=\"mb-0\">Phone</p> */}\r\n          <div class=\"input-group row m-0 p-0 position-relative\">\r\n            {this.label && (\r\n              <div class={`input-group-prepend col-3 p-0 text-dark border-none`}>\r\n                <label class={`input-group-text  border-theme flex-grow-1 text-dark  `}>{this.label}</label>\r\n              </div>\r\n            )}\r\n            <div class={'form-control  input-container  flex-fill' + (this.error ? ' is-invalid' : '')}>\r\n              <button onClick={() => (this.isDropdownVisible = !this.isDropdownVisible)} class=\"dropdown-trigger\">\r\n                <img src={this.currentCountry?.flag} class=\"flag\" />\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"14\" width=\"12.25\" viewBox=\"0 0 448 512\">\r\n                  <path d=\"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z\" />\r\n                </svg>\r\n              </button>\r\n\r\n              <label>{this.currentCountry?.phone_prefix}</label>\r\n              <input type=\"text\" placeholder={this.placeholder} required value={this.inputValue} disabled={this.disabled} onInput={e => this.handleInputChange(e)} />\r\n            </div>{' '}\r\n            {this.isDropdownVisible && (\r\n              <div class=\"ir-dropdown-container\">\r\n                <ir-combobox\r\n                  onComboboxValueChange={e => {\r\n                    this.setCurrentCountry(+e.detail.data);\r\n                    this.isDropdownVisible = false;\r\n                  }}\r\n                  class=\"bg-white\"\r\n                  autoFocus\r\n                  placeholder=\"Search country\"\r\n                  data={this.countries.map(c => ({\r\n                    id: c.id.toString(),\r\n                    name: `${c.name} (${c.phone_prefix})`,\r\n                  }))}\r\n                ></ir-combobox>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {/* {this.error && <div class=\"invalid-feedback\">Please enter a valid phone number.</div>} */}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}